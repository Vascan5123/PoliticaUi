module.exports=function(t){var e={};function o(s){if(e[s])return e[s].exports;var n=e[s]={i:s,l:!1,exports:{}};return t[s].call(n.exports,n,n.exports,o),n.l=!0,n.exports}return o.m=t,o.c=e,o.d=function(t,e,s){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},o.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(o.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)o.d(s,n,function(e){return t[e]}.bind(null,n));return s},o.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="",o(o.s=22)}([function(t,e){t.exports=flarum.core.compat["common/app"]},function(t,e){t.exports=flarum.core.compat["helpers/listItems"]},function(t,e){t.exports=flarum.core.compat.extend},function(t,e){t.exports=flarum.core.compat["components/LinkButton"]},function(t,e){t.exports=flarum.core.compat["helpers/highlight"]},function(t,e){t.exports=flarum.core.compat["components/IndexPage"]},function(t,e){t.exports=flarum.core.compat["components/Link"]},function(t,e){t.exports=flarum.core.compat["components/DiscussionListItem"]},function(t,e){t.exports=flarum.core.compat["utils/DiscussionControls"]},function(t,e){t.exports=flarum.core.compat["components/Dropdown"]},function(t,e){t.exports=flarum.core.compat["helpers/icon"]},function(t,e){t.exports=flarum.core.compat["helpers/avatar"]},function(t,e){t.exports=flarum.core.compat["utils/abbreviateNumber"]},function(t,e,o){"use strict";(function(t){var o="object"==typeof t&&t&&t.Object===Object&&t;e.a=o}).call(this,o(21))},function(t,e){t.exports=flarum.core.compat["components/DiscussionsUserPage"]},function(t,e){t.exports=flarum.core.compat["components/DiscussionList"]},function(t,e){t.exports=flarum.core.compat["components/ComposerBody"]},function(t,e){t.exports=flarum.core.compat["tags/components/TagHero"]},function(t,e){t.exports=flarum.core.compat["components/TextEditor"]},function(t,e){t.exports=flarum.core.compat["utils/extractText"]},function(t,e){t.exports=flarum.core.compat["utils/humanTime"]},function(t,e){var o;o=function(){return this}();try{o=o||new Function("return this")()}catch(t){"object"==typeof window&&(o=window)}t.exports=o},function(t,e,o){"use strict";o.r(e);var s=o(0),n=o.n(s),r=o(2),a=o(5),i=o.n(a),c=(o(14),o(3)),l=o.n(c),u=(o(15),o(16),o(7)),p=o.n(u),f=(o(17),o(18),o(8)),d=o.n(f),h=o(9),b=o.n(h),v=o(10),g=o.n(v),y=o(6),x=o.n(y),N=(o(19),o(20),o(11)),_=o.n(N),I=o(1),j=o.n(I),D=o(4),A=o.n(D),k=o(12),L=o.n(k),O=o(13),S="object"==typeof self&&self&&self.Object===Object&&self,w=(O.a||S||Function("return this")()).Symbol;var R=function(t,e){for(var o=-1,s=null==t?0:t.length,n=Array(s);++o<s;)n[o]=e(t[o],o,t);return n},B=Array.isArray,P=Object.prototype,T=P.hasOwnProperty,C=P.toString,E=w?w.toStringTag:void 0;var M=function(t){var e=T.call(t,E),o=t[E];try{t[E]=void 0;var s=!0}catch(t){}var n=C.call(t);return s&&(e?t[E]=o:delete t[E]),n},U=Object.prototype.toString;var q=function(t){return U.call(t)},F=w?w.toStringTag:void 0;var V=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":F&&F in Object(t)?M(t):q(t)};var $=function(t){return null!=t&&"object"==typeof t};var z=function(t){return"symbol"==typeof t||$(t)&&"[object Symbol]"==V(t)},H=w?w.prototype:void 0,G=H?H.toString:void 0;var J=function t(e){if("string"==typeof e)return e;if(B(e))return R(e,t)+"";if(z(e))return G?G.call(e):"";var o=e+"";return"0"==o&&1/e==-1/0?"-0":o};var K=function(t){return null==t?"":J(t)},Q=/[\\^$.*+?()[\]{}|]/g,W=RegExp(Q.source);var X=function(t){return(t=K(t))&&W.test(t)?t.replace(Q,"\\$&"):t};n.a.initializers.add("vascan/politica-ui",(function(){Object(r.override)(p.a.prototype,"view",(function(){var t=this.attrs.discussion,e=t.user(),o=t.isUnread(),s=t.isRead(),r=!this.showRepliesCount()&&o,a=0,i=d.a.controls(t,this).toArray(),c=this.elementAttrs();if(this.attrs.params.q){var l=t.mostRelevantPost();l&&(a=l.number());var u=X(this.attrs.params.q);this.highlightRegExp=new RegExp(u+"|"+u.trim().replace(/\s+/g,"|"),"gi")}else a=Math.min(t.lastPostNumber(),(t.lastReadPostNumber()||0)+1);for(var p,f=j()(this.infoItems().toArray())[0],h=0;h<j()(this.infoItems().toArray()).length;h++)j()(this.infoItems().toArray())[h].key&&"terminalPost"==j()(this.infoItems().toArray())[h].key&&(p=j()(this.infoItems().toArray())[h]);for(var v=f.children[0].children.length,y=0;y<v;y++)"i"!=f.children[0].children[y].children[0].children[0].tag&&0==f.children[0].children[y].attrs.className.includes("TagLabel--child")&&(f.children[0].children[y].attrs.className+=" d-none");return m("div",c,i.length?b.a.component({icon:"fas fa-ellipsis-v",className:"DiscussionListItem-controls",buttonClassName:"Button Button--icon Button--flat Slidable-underneath Slidable-underneath--right",accessibleToggleLabel:n.a.translator.trans("core.forum.discussion_controls.toggle_dropdown_accessible_label")},i):"",m("span",{className:"Slidable-underneath Slidable-underneath--left Slidable-underneath--elastic"+(o?"":" disabled"),onclick:this.markAsRead.bind(this)},g()("fas fa-check")),m("div",{className:"DiscussionListItem-content Slidable-content"+(o?" unread":"")+(s?" read":"")},m(x.a,{href:n.a.route.discussion(t,a),className:"DiscussionListItem-options"},m("div",{className:"DiscussionListItem-options-blocks"},m("h3",{className:""},A()("0",this.highlightRegExp)),m("p",{className:""},n.a.translator.trans("politica-ui.forum.likes"))),m("div",{className:"DiscussionListItem-options-blocks"},m("h3",{className:""},A()(t.commentCount()-1,this.highlightRegExp)),m("p",{className:""},n.a.translator.trans("politica-ui.forum.answers"))),m("div",{className:"DiscussionListItem-options-blocks"},m("h3",{className:""},A()(t.viewCount(),this.highlightRegExp)),m("p",{className:""},n.a.translator.trans("politica-ui.forum.views")))),m("ul",{className:"DiscussionListItem-badges badges"},j()(t.badges().toArray())),m(x.a,{href:n.a.route.discussion(t,a),className:"DiscussionListItem-main"},m("h3",{className:"DiscussionListItem-title"},A()(t.title(),this.highlightRegExp)),m("ul",{className:"DiscussionListItem-info"},j()(this.infoItems().toArray())[j()(this.infoItems().toArray()).length-1]),m("div",{className:"DiscussionListItem_tags_and_author"},m("ul",{className:"DiscussionListItem-info-tags"},f),m("div",{className:"DiscussionListItem-options-author"},m(x.a,{className:"author-link",href:e?n.a.route.user(e):"#"},_()(e,{title:""}),m("div",null,m("p",null,e.data.attributes.displayName),m("p",null,j()(p))))))),m("span",{tabindex:"0",role:"button",className:"DiscussionListItem-count",onclick:this.markAsRead.bind(this),title:r?n.a.translator.trans("core.forum.discussion_list.mark_as_read_tooltip"):""},L()(t[r?"unreadCount":"replyCount"]()))))})),Object(r.extend)(i.a.prototype,"viewItems",(function(t){t.has("sort")&&t.remove("sort");var e=n.a.search.stickyParams();t.add("allDiscussions",l.a.component({href:n.a.route("index",e),icon:"far fa-list-alt",className:"Text_title_center_block_class"},n.a.translator.trans("core.forum.index.all_discussions_link")),100)})),Object(r.extend)(i.a.prototype,"navItems",(function(t){t.has("allDiscussions")&&t.remove("allDiscussions")})),Object(r.extend)(i.a.prototype,"actionItems",(function(t){t.has("refresh")&&t.remove("refresh"),t.has("markAllAsRead")&&t.remove("markAllAsRead"),t.add("Actuale",l.a.component({title:"Actuale",className:"Button Button--primary",href:"/"},n.a.translator.trans("politica-ui.forum.sort_button_1"))),t.add("Citite",l.a.component({title:"Citite",className:"Button Button--primary",href:"/?sort=top"},n.a.translator.trans("politica-ui.forum.sort_button_2"))),t.add("Noi",l.a.component({title:"Noi",className:"Button Button--primary",href:"/?sort=newest"},n.a.translator.trans("politica-ui.forum.sort_button_3"))),t.add("Vechi",l.a.component({title:"Vechi",className:"Button Button--primary",href:"/?sort=oldest"},n.a.translator.trans("politica-ui.forum.sort_button_4")))}))}))}]);
//# sourceMappingURL=forum.js.map