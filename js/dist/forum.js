module.exports=function(t){var e={};function o(n){if(e[n])return e[n].exports;var r=e[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,o),r.l=!0,r.exports}return o.m=t,o.c=e,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)o.d(n,r,function(e){return t[e]}.bind(null,r));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="",o(o.s=22)}([function(t,e){t.exports=flarum.core.compat["common/app"]},function(t,e){t.exports=flarum.core.compat.extend},function(t,e){t.exports=flarum.core.compat["components/LinkButton"]},function(t,e){t.exports=flarum.core.compat["helpers/highlight"]},function(t,e){t.exports=flarum.core.compat["components/Link"]},function(t,e){t.exports=flarum.core.compat["components/DiscussionListItem"]},function(t,e){t.exports=flarum.core.compat["components/IndexPage"]},function(t,e){t.exports=flarum.core.compat["helpers/listItems"]},function(t,e){t.exports=flarum.core.compat["utils/DiscussionControls"]},function(t,e){t.exports=flarum.core.compat["components/Dropdown"]},function(t,e){t.exports=flarum.core.compat["helpers/icon"]},function(t,e){t.exports=flarum.core.compat["helpers/avatar"]},function(t,e){t.exports=flarum.core.compat["utils/abbreviateNumber"]},function(t,e,o){"use strict";(function(t){var o="object"==typeof t&&t&&t.Object===Object&&t;e.a=o}).call(this,o(21))},function(t,e){t.exports=flarum.core.compat["components/DiscussionsUserPage"]},function(t,e){t.exports=flarum.core.compat["components/DiscussionList"]},function(t,e){t.exports=flarum.core.compat["components/ComposerBody"]},function(t,e){t.exports=flarum.core.compat["tags/components/TagHero"]},function(t,e){t.exports=flarum.core.compat["components/TextEditor"]},function(t,e){t.exports=flarum.core.compat["utils/extractText"]},function(t,e){t.exports=flarum.core.compat["utils/humanTime"]},function(t,e){var o;o=function(){return this}();try{o=o||new Function("return this")()}catch(t){"object"==typeof window&&(o=window)}t.exports=o},function(t,e,o){"use strict";o.r(e);var n=o(0),r=o.n(n),s=o(1),a=o(6),i=o.n(a),c=(o(14),o(2)),l=o.n(c),u=(o(15),o(16),o(5)),p=o.n(u),f=(o(17),o(18),o(8)),d=o.n(f),h=o(9),b=o.n(h),v=o(10),g=o.n(v),x=o(4),y=o.n(x),N=(o(19),o(20),o(11)),_=o.n(N),j=o(7),I=o.n(j),O=o(3),S=o.n(O),k=o(12),w=o.n(k),D=o(13),L="object"==typeof self&&self&&self.Object===Object&&self,A=(D.a||L||Function("return this")()).Symbol;var R=function(t,e){for(var o=-1,n=null==t?0:t.length,r=Array(n);++o<n;)r[o]=e(t[o],o,t);return r},B=Array.isArray,P=Object.prototype,T=P.hasOwnProperty,C=P.toString,E=A?A.toStringTag:void 0;var M=function(t){var e=T.call(t,E),o=t[E];try{t[E]=void 0;var n=!0}catch(t){}var r=C.call(t);return n&&(e?t[E]=o:delete t[E]),r},U=Object.prototype.toString;var q=function(t){return U.call(t)},F=A?A.toStringTag:void 0;var V=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":F&&F in Object(t)?M(t):q(t)};var $=function(t){return null!=t&&"object"==typeof t};var z=function(t){return"symbol"==typeof t||$(t)&&"[object Symbol]"==V(t)},H=A?A.prototype:void 0,G=H?H.toString:void 0;var J=function t(e){if("string"==typeof e)return e;if(B(e))return R(e,t)+"";if(z(e))return G?G.call(e):"";var o=e+"";return"0"==o&&1/e==-1/0?"-0":o};var K=function(t){return null==t?"":J(t)},Q=/[\\^$.*+?()[\]{}|]/g,W=RegExp(Q.source);var X=function(t){return(t=K(t))&&W.test(t)?t.replace(Q,"\\$&"):t};r.a.initializers.add("vascan/politica-ui",(function(){Object(s.override)(p.a.prototype,"view",(function(){var t=this.attrs.discussion,e=t.user(),o=t.isUnread(),n=t.isRead(),s=!this.showRepliesCount()&&o,a=0,i=d.a.controls(t,this).toArray(),c=this.elementAttrs();if(this.attrs.params.q){var l=t.mostRelevantPost();l&&(a=l.number());var u=X(this.attrs.params.q);this.highlightRegExp=new RegExp(u+"|"+u.trim().replace(/\s+/g,"|"),"gi")}else a=Math.min(t.lastPostNumber(),(t.lastReadPostNumber()||0)+1);return console.log(t),m("div",c,i.length?b.a.component({icon:"fas fa-ellipsis-v",className:"DiscussionListItem-controls",buttonClassName:"Button Button--icon Button--flat Slidable-underneath Slidable-underneath--right",accessibleToggleLabel:r.a.translator.trans("core.forum.discussion_controls.toggle_dropdown_accessible_label")},i):"",m("span",{className:"Slidable-underneath Slidable-underneath--left Slidable-underneath--elastic"+(o?"":" disabled"),onclick:this.markAsRead.bind(this)},g()("fas fa-check")),m("div",{className:"DiscussionListItem-content Slidable-content"+(o?" unread":"")+(n?" read":"")},m(y.a,{href:r.a.route.discussion(t,a),className:"DiscussionListItem-options"},m("div",{className:"DiscussionListItem-options-blocks"},m(y.a,{className:"",href:e?r.a.route.user(e):"#"},_()(e,{title:""}))),m("div",{className:"DiscussionListItem-options-blocks"},m("h3",{className:""},S()("0",this.highlightRegExp)),m("p",{className:""},r.a.translator.trans("politica-ui.forum.likes"))),m("div",{className:"DiscussionListItem-options-blocks"},m("h3",{className:""},S()(t.commentCount()-1,this.highlightRegExp)),m("p",{className:""},r.a.translator.trans("politica-ui.forum.answers"))),m("div",{className:"DiscussionListItem-options-blocks"},m("h3",{className:""},S()(t.viewCount(),this.highlightRegExp)),m("p",{className:""},r.a.translator.trans("politica-ui.forum.views")))),m("ul",{className:"DiscussionListItem-badges badges"},I()(t.badges().toArray())),m(y.a,{href:r.a.route.discussion(t,a),className:"DiscussionListItem-main"},m("h3",{className:"DiscussionListItem-title"},S()(t.title(),this.highlightRegExp)),m("ul",{className:"DiscussionListItem-info"},I()(this.infoItems().toArray()))),m("span",{tabindex:"0",role:"button",className:"DiscussionListItem-count",onclick:this.markAsRead.bind(this),title:s?r.a.translator.trans("core.forum.discussion_list.mark_as_read_tooltip"):""},w()(t[s?"unreadCount":"replyCount"]()))))})),Object(s.extend)(i.a.prototype,"viewItems",(function(t){t.has("sort")&&t.remove("sort"),t.add("Text_title_center_block",m("p",{class:"Text_title_center_block_class"},m("span",null," ",r.a.translator.trans("politica-ui.forum.text_top_left"))))})),Object(s.extend)(i.a.prototype,"actionItems",(function(t){t.has("refresh")&&t.remove("refresh"),t.has("markAllAsRead")&&t.remove("markAllAsRead"),t.add("Actuale",l.a.component({title:"Actuale",className:"Button Button--primary",href:"/"},r.a.translator.trans("politica-ui.forum.sort_button_1"))),t.add("Citite",l.a.component({title:"Citite",className:"Button Button--primary",href:"/?sort=top"},r.a.translator.trans("politica-ui.forum.sort_button_2"))),t.add("Noi",l.a.component({title:"Noi",className:"Button Button--primary",href:"/?sort=newest"},r.a.translator.trans("politica-ui.forum.sort_button_3"))),t.add("Vechi",l.a.component({title:"Vechi",className:"Button Button--primary",href:"/?sort=oldest"},r.a.translator.trans("politica-ui.forum.sort_button_4")))}))}))}]);
//# sourceMappingURL=forum.js.map